"use strict";(globalThis.webpackChunkdocs=globalThis.webpackChunkdocs||[]).push([[5463],{5428:(e,a,t)=>{t.r(a),t.d(a,{assets:()=>i,contentTitle:()=>c,default:()=>p,frontMatter:()=>o,metadata:()=>s,toc:()=>d});const s=JSON.parse('{"id":"cnpg/databases","title":"Databases","description":"In this section, we will set up the databases for Keycloak, Harbor, and Forgejo declaratively using CloudNativePG.","source":"@site/docs/100-cnpg/30_databases.md","sourceDirName":"100-cnpg","slug":"/cnpg/databases","permalink":"/nursery/cnpg/databases","draft":false,"unlisted":false,"editUrl":"https://github.com/infaloom/nursery/tree/main/docusaurus/docs/100-cnpg/30_databases.md","tags":[],"version":"current","sidebarPosition":30,"frontMatter":{},"sidebar":"defaultSidebar","previous":{"title":"Operator and Cluster","permalink":"/nursery/cnpg/operator_and_cluster"},"next":{"title":"Redis","permalink":"/nursery/redis/"}}');var n=t(4848),r=t(8453);const o={},c="Databases",i={},d=[];function l(e){const a={a:"a",admonition:"admonition",code:"code",h1:"h1",header:"header",p:"p",pre:"pre",...(0,r.R)(),...e.components};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(a.header,{children:(0,n.jsx)(a.h1,{id:"databases",children:"Databases"})}),"\n",(0,n.jsx)(a.p,{children:"In this section, we will set up the databases for Keycloak, Harbor, and Forgejo declaratively using CloudNativePG."}),"\n",(0,n.jsx)(a.pre,{children:(0,n.jsx)(a.code,{className:"language-bash",children:"kubectl apply -f k8s/cnpg-system/databases/keycloak/keycloak-database.yaml\r\nkubectl apply -f k8s/cnpg-system/databases/harbor/harbor-database.yaml\r\nkubectl apply -f k8s/cnpg-system/databases/forgejo/forgejo-database.yaml\n"})}),"\n",(0,n.jsx)(a.p,{children:"You can follow the same approach to create databases for any other applications you want to deploy in the future. Just create a new manifest similar to the ones above and apply it."}),"\n",(0,n.jsx)(a.admonition,{type:"warning",children:(0,n.jsxs)(a.p,{children:["Before applying the database manifests, make sure to create the corresponding roles and ExternalSecrets for the database credentials as described in the previous section ",(0,n.jsx)(a.a,{href:"/nursery/cnpg/cluster_roles_and_secrets",children:"Cluster Roles & Secrets"}),"."]})})]})}function p(e={}){const{wrapper:a}={...(0,r.R)(),...e.components};return a?(0,n.jsx)(a,{...e,children:(0,n.jsx)(l,{...e})}):l(e)}},8453:(e,a,t)=>{t.d(a,{R:()=>o,x:()=>c});var s=t(6540);const n={},r=s.createContext(n);function o(e){const a=s.useContext(r);return s.useMemo(function(){return"function"==typeof e?e(a):{...a,...e}},[a,e])}function c(e){let a;return a=e.disableParentContext?"function"==typeof e.components?e.components(n):e.components||n:o(e.components),s.createElement(r.Provider,{value:a},e.children)}}}]);